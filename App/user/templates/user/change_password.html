{% extends "theme/base_dashboard.html" %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "Change Password - RAWINA" %}{% endblock %}
{% if messages %}
  <div class="pt-4">
    {% for message in messages %}
      <div class="mb-4 px-4 py-3 rounded shadow-md 
                  {% if message.tags == 'success' %}
                    bg-green-100 text-green-800 border border-green-300
                  {% elif message.tags == 'error' %}
                    bg-red-100 text-red-800 border border-red-300
                  {% else %}
                    bg-yellow-100 text-yellow-800 border border-yellow-300
                  {% endif %}">
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}
{% block content %}
<div class="min-h-screen bg-sand-beige flex items-center justify-center px-6 py-16 shadow-lg border-y-4 border-sage-green bg-cover bg-center"
     style="background-image: url('{% static 'images/forest_bg.png' %}')"> 

  <div class="relative z-10 border-4 border-sage-green rounded-lg shadow-2xl p-8 text-center bg-sage-green backdrop-blur-sm"> 
    <h2 class="text-3xl font-bold text-sand-beige text-center">{% trans "Change Password" %}</h2>

    <form method="post" class="space-y-4">
      {% csrf_token %}

      <div>
        <label class="block text-softbrown font-semibold mb-1">{% trans "Current Password" %}</label>
        <input type="password" name="old_password" required
               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-powder-blue"
               placeholder="{% trans 'Enter current password' %}">
      </div>

      <div>
        <label class="block text-softbrown font-semibold mb-1">{% trans "New Password" %}</label>
        <input type="password" name="new_password1" required
               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-powder-blue"
               placeholder="{% trans 'Enter new password' %}">
      </div>

      <div>
        <label class="block text-softbrown font-semibold mb-1">{% trans "Confirm New Password" %}</label>
        <input type="password" name="new_password2" required
               class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-powder-blue"
               placeholder="{% trans 'Confirm new password' %}">
      </div>

      <button type="submit"
              class="w-full bg-light-sienna text-white font-semibold py-3 rounded-lg hover:bg-sage-green transition">
        {% trans "Update Password" %}
      </button>
    </form>
  </div>
</div>
{% endblock %}
